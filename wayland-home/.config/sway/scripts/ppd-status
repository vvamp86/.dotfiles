#!/usr/bin/env bash

# Get current profile
current_profile=$(powerprofilesctl get 2>/dev/null || echo "unknown")

# Choose icon based on profile
case "$current_profile" in
    "power-saver")
        icon=" "  # Battery saver icon
        ;;
    "balanced")
        icon=" "  # Balanced icon
        ;;
    "performance")
        icon=" "  # Performance icon
        ;;
    *)
        icon="󰂭 "  # Unknown icon
        ;;
esac

# Output JSON for Waybar
echo "{\"text\": \"$icon\", \"class\": \"$current_profile\", \"tooltip\": \"Power Profile: $current_profile\"}"
